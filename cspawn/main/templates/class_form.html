{% extends "page.html" %}

{% block content %}
<div class="container mt-4" style="max-width: 750px; margin: auto;">
    <h1>{{ 'Edit Class' if clazz else 'New Class' }}</h1>
    <form method="post" action="{{ url_for('main.edit_class', class_id = ( clazz.id if clazz.id else 'new')) }}">
        <div class="form-group">
            <label for="name">Name</label>
            <input type="text" class="form-control" id="name" name="name" value="{{ clazz.name if clazz else '' }}">
        </div>
        <div class="form-group">
            <label for="description">Description</label>
            <textarea class="form-control" id="description"
                name="description">{{ clazz.description if clazz else '' }}</textarea>
        </div>
        <div class="form-group">
            <label for="image">Image</label>
            <select class="form-control" id="image" name="image_id">
                {% for image in all_images %}
                <option value="{{ image.id }}" {% if clazz and clazz.image_id==image.id %}selected{% endif %}>
                    {{ image.name }}
                </option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="start_date">Start Date</label>
            <input type="datetime-local" class="form-control" id="start_date" name="start_date"
                value="{{ clazz.start_date.strftime('%Y-%m-%dT%H:%M') if clazz and clazz.start_date else '' }}">
        </div>
        <div class="form-group">
            <label for="end_date">End Date</label>
            <input type="datetime-local" class="form-control" id="end_date" name="end_date"
                value="{{ clazz.end_date.strftime('%Y-%m-%dT%H:%M') if clazz and clazz.end_date else  '' }}">
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-success">Save</button>
        </div>
    </form>
</div>
{% endblock %}

{% block scripts %}

{% endblock %}